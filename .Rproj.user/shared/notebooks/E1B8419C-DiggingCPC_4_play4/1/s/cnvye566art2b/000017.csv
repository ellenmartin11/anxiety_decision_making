"0",""
"0",""
"0",""
"0","# Calculate the mean z_happy per participant for each abs(RiskyEV), including GAD groupings"
"0","happy_data <- happyData1_ev %>%"
"0","  filter(!is.na(PHQ_binary)) %>%"
"0","  group_by(userKey, Trial, RiskyEV_bin,PHQ_binary) %>%"
"0","  summarise("
"0","    mean_zhappy = mean(zHappy,na.rm=TRUE)"
"0","  ) "
"1","[38;5;254m`summarise()` has grouped output by 'userKey', 'Trial', 'RiskyEV_bin'. You can override using the `.groups` argument.[39m
"
"0","mean_happy_ev_data_phq <- happy_data %>%"
"0","  mutate(abs_RiskyEV = RiskyEV_bin) %>%         # Use absolute RiskyEV"
"0","  group_by(userKey, Trial, PHQ_binary, abs_RiskyEV) %>%"
"0","  summarise(mean_z_happy = mean(mean_zhappy, na.rm = TRUE),"
"0","            .groups = 'drop')"
"0",""
"0","# Now calculate the average across participants for each abs(RiskyEV), split by Trial and GAD group"
"0","overall_mean_happy_ev_data_phq <- mean_happy_ev_data_phq %>%"
"0","  group_by(Trial, PHQ_binary, abs_RiskyEV) %>%"
"0","  summarise(mean_z_happy_all = mean(mean_z_happy, na.rm = TRUE),"
"0","             sem_z_happy_all = sd(mean_z_happy, na.rm=TRUE) / sqrt(n()),"
"0","            .groups = 'drop')"
"0",""
"0","# Plot the data with GAD splitting"
"0","ggplot(overall_mean_happy_ev_data_phq, aes(x = abs_RiskyEV, y = mean_z_happy_all, color = PHQ_binary, linetype = Trial, group = interaction(PHQ_binary, Trial))) +"
"0","  geom_line(size = 1) +                             # Ensure the line connects the points"
"0","  geom_point() +                                    # Points for clarity"
"0","  geom_errorbar(aes(ymin = mean_z_happy_all - sem_z_happy_all, ymax = mean_z_happy_all + sem_z_happy_all), width = 0.2) +  # Error bars for SEM"
"0","  geom_hline(yintercept = 0, linetype = ""dotted"", color = ""black"") +  # Dotted line at y=0"
"0","  labs(x = ""Absolute RiskyEV"", y = ""Mean z Happy Score"","
"0","       title = ""Mean z Happy Score by Absolute RiskyEV (split by PHQ)"","
"0","       color = ""PHQ Group"", linetype = ""Trial Type"") +"
"0","  theme_minimal() +"
"0","  scale_color_manual(values = c(""PHQ 6+"" = ""red"", ""PHQ <6"" = ""pink"")) +  # Custom colors for GAD groups"
"0","  scale_linetype_manual(values = c(""Gain"" = ""solid"", ""Loss"" = ""dotted"")) +      # Solid for Gain, dotted for Loss"
"0","  poster_theme"
